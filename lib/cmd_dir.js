"use strict";
/**
 * 因為 ./cli.ts 似乎寫出BUG 所以只好打掉重練一個
 *
 * 但是依然BUG...
 * 放棄修正
 */
Object.defineProperty(exports, "__esModule", { value: true });
const path = require("path");
function createCommandModuleExports(module) {
    // @ts-ignore
    if (module.builder == null && module.handler == null) {
        // @ts-ignore
        throw new TypeError(`'builder' or 'handler' must exists, but got\nbuilder: ${module.builder}\nhandler: ${module.handler}`);
    }
    // @ts-ignore
    let { builder = _dummyBuilder, handler = _dummyHandler } = module;
    return {
        ...module,
        builder,
        handler,
    };
}
exports.createCommandModuleExports = createCommandModuleExports;
function _dummyBuilder(yarg) {
    return yarg;
}
exports._dummyBuilder = _dummyBuilder;
function _dummyHandler(args) {
    return args;
}
exports._dummyHandler = _dummyHandler;
function basenameStrip(name) {
    return path.basename(name, path.extname(name));
}
exports.basenameStrip = basenameStrip;
function commandDirStrip(name, suffix = '_cmds') {
    return basenameStrip(name) + suffix;
}
exports.commandDirStrip = commandDirStrip;
function commandDirJoin(root, name, suffix = '_cmds') {
    return path.join(root, commandDirStrip(name));
}
exports.commandDirJoin = commandDirJoin;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY21kX2Rpci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImNtZF9kaXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7OztHQUtHOztBQUtILDZCQUE4QjtBQW1DOUIsU0FBZ0IsMEJBQTBCLENBQXFILE1BQW1DO0lBRWpNLGFBQWE7SUFDYixJQUFJLE1BQU0sQ0FBQyxPQUFPLElBQUksSUFBSSxJQUFJLE1BQU0sQ0FBQyxPQUFPLElBQUksSUFBSSxFQUNwRDtRQUNDLGFBQWE7UUFDYixNQUFNLElBQUksU0FBUyxDQUFDLHlEQUF5RCxNQUFNLENBQUMsT0FBTyxjQUFjLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFBO0tBQzFIO0lBRUQsYUFBYTtJQUNiLElBQUksRUFBRSxPQUFPLEdBQUcsYUFBYSxFQUFFLE9BQU8sR0FBRyxhQUFhLEVBQUUsR0FBRyxNQUFNLENBQUM7SUFFbEUsT0FBTztRQUNOLEdBQUcsTUFBTTtRQUNULE9BQU87UUFDUCxPQUFPO0tBQ2dCLENBQUE7QUFDekIsQ0FBQztBQWpCRCxnRUFpQkM7QUFFRCxTQUFnQixhQUFhLENBQWUsSUFBYTtJQUV4RCxPQUFPLElBQUksQ0FBQTtBQUNaLENBQUM7QUFIRCxzQ0FHQztBQUVELFNBQWdCLGFBQWEsQ0FBZSxJQUFrQjtJQUU3RCxPQUFPLElBQUksQ0FBQTtBQUNaLENBQUM7QUFIRCxzQ0FHQztBQUVELFNBQWdCLGFBQWEsQ0FBQyxJQUFZO0lBRXpDLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBO0FBQy9DLENBQUM7QUFIRCxzQ0FHQztBQUVELFNBQWdCLGVBQWUsQ0FBQyxJQUFZLEVBQUUsTUFBTSxHQUFHLE9BQU87SUFFN0QsT0FBTyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFBO0FBQ3BDLENBQUM7QUFIRCwwQ0FHQztBQUVELFNBQWdCLGNBQWMsQ0FBQyxJQUFZLEVBQUUsSUFBWSxFQUFFLE1BQU0sR0FBRyxPQUFPO0lBRTFFLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUE7QUFDOUMsQ0FBQztBQUhELHdDQUdDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDlm6DngrogLi9jbGkudHMg5Ly85LmO5a+r5Ye6QlVHIOaJgOS7peWPquWlveaJk+aOiemHjee3tOS4gOWAi1xuICpcbiAqIOS9huaYr+S+neeEtkJVRy4uLlxuICog5pS+5qOE5L+u5q2jXG4gKi9cblxuaW1wb3J0IHlhcmdzID0gcmVxdWlyZSgneWFyZ3MnKTtcbmltcG9ydCB7IENvbW1hbmRNb2R1bGUsIEFyZ3VtZW50cywgQXJndiwgQ29tbWFuZEJ1aWxkZXIsIE9wdGlvbnMgfSBmcm9tICd5YXJncyc7XG5pbXBvcnQgeyBJVFNPdmVyd3JpdGUgfSBmcm9tICd0cy10eXBlL2xpYi9oZWxwZXInO1xuaW1wb3J0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVVucGFja015WWFyZ3NBcmd2XG57XG5cdGN3ZDogc3RyaW5nO1xuXHRza2lwQ2hlY2tXb3Jrc3BhY2U6IGJvb2xlYW47XG59XG5cbmV4cG9ydCB0eXBlIElVbnBhY2tNeVlhcmdzQXJndlBhcnRpYWwgPSBQYXJ0aWFsPElVbnBhY2tNeVlhcmdzQXJndj47XG5cbmV4cG9ydCB0eXBlIElVbnBhY2tZYXJnc0FyZ3Y8VCBleHRlbmRzIEFyZ3YsIEQgPSBhbnk+ID0gVCBleHRlbmRzIEFyZ3Y8aW5mZXIgVT4gPyBVIDogRDtcblxuZXhwb3J0IHR5cGUgSUNvbW1hbmRCdWlsZGVyRm48VCA9IG9iamVjdCwgVSA9IG9iamVjdD4gPSAoYXJnczogQXJndjxUPikgPT4gQXJndjxVPjtcblxuZXhwb3J0IGludGVyZmFjZSBJQ29tbWFuZEJ1aWxkZXJPYmplY3Q8VCA9IG9iamVjdCwgVSA9IG9iamVjdD5cbntcblx0W2tleTogc3RyaW5nXTogT3B0aW9uc1xufVxuXG5leHBvcnQgdHlwZSBJQ29tbWFuZE1vZHVsZU9taXQ8VCBleHRlbmRzIElVbnBhY2tNeVlhcmdzQXJndlBhcnRpYWwgPSBJVW5wYWNrTXlZYXJnc0FyZ3YsIFUgZXh0ZW5kcyB7fSA9IElVbnBhY2tNeVlhcmdzQXJndlBhcnRpYWw+ID0gT21pdDxDb21tYW5kTW9kdWxlLCAnaGFuZGxlcicgfCAnYnVpbGRlcic+O1xuXG5leHBvcnQgdHlwZSBJQ29tbWFuZE1vZHVsZUV4cG9ydHM8VCBleHRlbmRzIElVbnBhY2tNeVlhcmdzQXJndlBhcnRpYWwgPSBJVW5wYWNrTXlZYXJnc0FyZ3YsIFUgZXh0ZW5kcyBJVW5wYWNrTXlZYXJnc0FyZ3ZQYXJ0aWFsID0gSVVucGFja015WWFyZ3NBcmd2PiA9XG5cdElDb21tYW5kTW9kdWxlT21pdFxuXHQmICh7XG5cdGJ1aWxkZXIoYXJnczogQXJndjxUPik6IEFyZ3Y8VT47XG5cdGhhbmRsZXI6IChhcmdzOiBBcmd1bWVudHM8VT4pID0+IGFueTtcbn0gfCB7XG5cdGJ1aWxkZXI6IElDb21tYW5kQnVpbGRlck9iamVjdDtcblx0aGFuZGxlcjogKGFyZ3M6IEFyZ3VtZW50czxVPikgPT4gYW55O1xufSB8IHtcblx0aGFuZGxlcjogKGFyZ3M6IEFyZ3VtZW50czxUPikgPT4gYW55O1xufSB8IHtcblx0YnVpbGRlcihhcmdzOiBBcmd2PFQ+KTogQXJndjxVPjtcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29tbWFuZE1vZHVsZUV4cG9ydHM8VCBleHRlbmRzIElVbnBhY2tNeVlhcmdzQXJndlBhcnRpYWwgPSBJVW5wYWNrTXlZYXJnc0FyZ3YsIFUgZXh0ZW5kcyBJVW5wYWNrTXlZYXJnc0FyZ3ZQYXJ0aWFsID0gSVVucGFja015WWFyZ3NBcmd2Pihtb2R1bGU6IElDb21tYW5kTW9kdWxlRXhwb3J0czxULCBVPik6IENvbW1hbmRNb2R1bGU8VCwgVT5cbntcblx0Ly8gQHRzLWlnbm9yZVxuXHRpZiAobW9kdWxlLmJ1aWxkZXIgPT0gbnVsbCAmJiBtb2R1bGUuaGFuZGxlciA9PSBudWxsKVxuXHR7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoYCdidWlsZGVyJyBvciAnaGFuZGxlcicgbXVzdCBleGlzdHMsIGJ1dCBnb3RcXG5idWlsZGVyOiAke21vZHVsZS5idWlsZGVyfVxcbmhhbmRsZXI6ICR7bW9kdWxlLmhhbmRsZXJ9YClcblx0fVxuXG5cdC8vIEB0cy1pZ25vcmVcblx0bGV0IHsgYnVpbGRlciA9IF9kdW1teUJ1aWxkZXIsIGhhbmRsZXIgPSBfZHVtbXlIYW5kbGVyIH0gPSBtb2R1bGU7XG5cblx0cmV0dXJuIHtcblx0XHQuLi5tb2R1bGUsXG5cdFx0YnVpbGRlcixcblx0XHRoYW5kbGVyLFxuXHR9IGFzIENvbW1hbmRNb2R1bGU8VCwgVT5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9kdW1teUJ1aWxkZXI8VCBleHRlbmRzIHt9Pih5YXJnOiBBcmd2PFQ+KVxue1xuXHRyZXR1cm4geWFyZ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2R1bW15SGFuZGxlcjxUIGV4dGVuZHMge30+KGFyZ3M6IEFyZ3VtZW50czxUPik6IGFueVxue1xuXHRyZXR1cm4gYXJnc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmFzZW5hbWVTdHJpcChuYW1lOiBzdHJpbmcpXG57XG5cdHJldHVybiBwYXRoLmJhc2VuYW1lKG5hbWUsIHBhdGguZXh0bmFtZShuYW1lKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbW1hbmREaXJTdHJpcChuYW1lOiBzdHJpbmcsIHN1ZmZpeCA9ICdfY21kcycpXG57XG5cdHJldHVybiBiYXNlbmFtZVN0cmlwKG5hbWUpICsgc3VmZml4XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21tYW5kRGlySm9pbihyb290OiBzdHJpbmcsIG5hbWU6IHN0cmluZywgc3VmZml4ID0gJ19jbWRzJylcbntcblx0cmV0dXJuIHBhdGguam9pbihyb290LCBjb21tYW5kRGlyU3RyaXAobmFtZSkpXG59XG4iXX0=